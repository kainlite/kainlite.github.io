<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <title>
        Sending emails with AWS Lambda and SES from a HTML form - Kubernetes, CI/CD, Git, Linux, Containers, Golang... and more
      </title>
    <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport"
    content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
  <meta name="renderer" content="webkit">
  <meta http-equiv="Cache-Control" content="no-transform" />
  <meta http-equiv="Cache-Control" content="no-siteapp" />
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="format-detection" content="telephone=no,email=no,adress=no">
  
  <meta name="theme-color" content="#000000" />
  
  <meta http-equiv="window-target" content="_top" />
  
  
  <meta name="description" content="Serverless series Part I: Serving static websites with s3 and cloudfront, so refer to that one before starting this one if you want to know how did we get here.
Part II: Sending emails with AWS Lambda and SES from a HTML form, You are here.
Introduction This article is part of the serverless series, in this article we will see how to create a serverless function in AWS Lambda to send an email coming from the HTML form in the site the source code can be found here, that is the go version but if you prefer node you can use this one." />
  <meta name="generator" content="Hugo 0.72.0 with theme pure" />
  <title>Sending emails with AWS Lambda and SES from a HTML form - Kubernetes, CI/CD, Git, Linux, Containers, Golang... and more</title>
  
  
  <link rel="stylesheet" href="https://techsquad.rocks/css/style.min.7dc20efbc53647d41aa9ddea0c48e59300223d084e66ea0cbe7c30bd88903acc.css">
  
  <link rel="stylesheet" href="https://cdn.staticfile.org/highlight.js/9.15.10/styles/github.min.css" async>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.4.2/tocbot.css" async>
  <meta property="og:title" content="Sending emails with AWS Lambda and SES from a HTML form" />
<meta property="og:description" content="Serverless series Part I: Serving static websites with s3 and cloudfront, so refer to that one before starting this one if you want to know how did we get here.
Part II: Sending emails with AWS Lambda and SES from a HTML form, You are here.
Introduction This article is part of the serverless series, in this article we will see how to create a serverless function in AWS Lambda to send an email coming from the HTML form in the site the source code can be found here, that is the go version but if you prefer node you can use this one." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://techsquad.rocks/blog/sending_emails_with_lambda_and_ses/" />
<meta property="og:image" content="https://techsquad.rocks/img/aws-lambda-ses.png" />
<meta property="article:published_time" content="2019-02-03T00:00:00+00:00" />
<meta property="article:modified_time" content="2019-02-03T00:00:00+00:00" />
<meta itemprop="name" content="Sending emails with AWS Lambda and SES from a HTML form">
<meta itemprop="description" content="Serverless series Part I: Serving static websites with s3 and cloudfront, so refer to that one before starting this one if you want to know how did we get here.
Part II: Sending emails with AWS Lambda and SES from a HTML form, You are here.
Introduction This article is part of the serverless series, in this article we will see how to create a serverless function in AWS Lambda to send an email coming from the HTML form in the site the source code can be found here, that is the go version but if you prefer node you can use this one.">
<meta itemprop="datePublished" content="2019-02-03T00:00:00&#43;00:00" />
<meta itemprop="dateModified" content="2019-02-03T00:00:00&#43;00:00" />
<meta itemprop="wordCount" content="1223">
<meta itemprop="image" content="https://techsquad.rocks/img/aws-lambda-ses.png">



<meta itemprop="keywords" content="go,golang,development,serverless,linux," /><meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://techsquad.rocks/img/aws-lambda-ses.png"/>

<meta name="twitter:title" content="Sending emails with AWS Lambda and SES from a HTML form"/>
<meta name="twitter:description" content="Serverless series Part I: Serving static websites with s3 and cloudfront, so refer to that one before starting this one if you want to know how did we get here.
Part II: Sending emails with AWS Lambda and SES from a HTML form, You are here.
Introduction This article is part of the serverless series, in this article we will see how to create a serverless function in AWS Lambda to send an email coming from the HTML form in the site the source code can be found here, that is the go version but if you prefer node you can use this one."/>

  <!--[if lte IE 9]>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
    <![endif]-->

  <!--[if lt IE 9]>
      <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
      <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
    <![endif]-->

</head>
  </head>

  
  

  <body class="main-center theme-black" itemscope itemtype="http://schema.org/WebPage"><header class="header" itemscope itemtype="http://schema.org/WPHeader">
    <div class="slimContent">
      <div class="navbar-header">
        <div class="profile-block text-center">
          <a id="avatar" href="https://github.com/kainlite" target="_blank">
            <img class="img-circle img-rotate" src="https://techsquad.rocks/img/logo-glider.png" width="200" height="200">
          </a>
          <h2 id="name" class="hidden-xs hidden-sm">kainlite</h2>
          <h3 id="title" class="hidden-xs hidden-sm hidden-md">DevOps Practitioner</h3>
          <small id="location" class="text-muted hidden-xs hidden-sm"><i class="icon icon-map-marker"></i>Mendoza, Argentina</small>
        </div><div class="search" id="search-form-wrap">
    <form class="search-form sidebar-form">
        <div class="input-group">
            <input type="text" class="search-form-input form-control" placeholder="Search" />
            <span class="input-group-btn">
                <button type="submit" class="search-form-submit btn btn-flat" onclick="return false;"><i
                        class="icon icon-search"></i></button>
            </span>
        </div>
        <div class="ins-search">
            <div class="ins-search-mask"></div>
            <div class="ins-search-container">
                <div class="ins-input-wrapper">
                    <input type="text" class="ins-search-input" placeholder="Type something..."
                        x-webkit-speech />
                    <button type="button" class="close ins-close ins-selectable" data-dismiss="modal"
                        aria-label="Close"><span aria-hidden="true">Ã—</span></button>
                </div>
                <div class="ins-section-wrapper">
                    <div class="ins-section-container"></div>
                </div>
            </div>
        </div>
    </form>
</div>
        <button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target="#main-navbar" aria-controls="main-navbar" aria-expanded="false">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
      </div>
      <nav id="main-navbar" class="collapse navbar-collapse" itemscope itemtype="http://schema.org/SiteNavigationElement" role="navigation">
        <ul class="nav navbar-nav main-nav">
            <li class="menu-item menu-item-home">
                <a href="/">
                    <i class="icon icon-home-fill"></i>
                  <span class="menu-title">Home</span>
                </a>
            </li>
            <li class="menu-item menu-item-blog">
                <a href="/blog/">
                    <i class="icon icon-archives-fill"></i>
                  <span class="menu-title">Blog</span>
                </a>
            </li>
            <li class="menu-item menu-item-categories">
                <a href="/categories/">
                    <i class="icon icon-folder"></i>
                  <span class="menu-title">Categories</span>
                </a>
            </li>
            <li class="menu-item menu-item-tags">
                <a href="/tags/">
                    <i class="icon icon-tags"></i>
                  <span class="menu-title">Tags</span>
                </a>
            </li>
            <li class="menu-item menu-item-about">
                <a href="/about/">
                    <i class="icon icon-cup-fill"></i>
                  <span class="menu-title">About</span>
                </a>
            </li>
        </ul>
      </nav>
    </div>
  </header>

<aside class="sidebar" itemscope itemtype="http://schema.org/WPSideBar">
  <div class="slimContent">
    
<div class="widget">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget-body">
        <ul class="recent-post-list list-unstyled no-thumbnail">
            <li>
                <div class="item-inner">
                    <p class="item-title">
                        <a href="https://techsquad.rocks/blog/terraform_linter/" class="title">Automatic terraform linting with reviewdog and tflint</a>
                    </p>
                    <p class="item-date">
                        <time datetime="2020-05-21 00:00:00 &#43;0000 UTC" itemprop="datePublished">2020-05-21</time>
                    </p>
                </div>
            </li>
            <li>
                <div class="item-inner">
                    <p class="item-title">
                        <a href="https://techsquad.rocks/blog/gitlab_ci_basics/" class="title">Gitlab-CI Basics</a>
                    </p>
                    <p class="item-date">
                        <time datetime="2020-02-02 00:00:00 &#43;0000 UTC" itemprop="datePublished">2020-02-02</time>
                    </p>
                </div>
            </li>
            <li>
                <div class="item-inner">
                    <p class="item-title">
                        <a href="https://techsquad.rocks/blog/cat_and_friends_netcat_socat/" class="title">Cat and friends (Netcat and Socat)</a>
                    </p>
                    <p class="item-date">
                        <time datetime="2020-01-20 00:00:00 &#43;0000 UTC" itemprop="datePublished">2020-01-20</time>
                    </p>
                </div>
            </li>
            <li>
                <div class="item-inner">
                    <p class="item-title">
                        <a href="https://techsquad.rocks/blog/cloud_native_applications_with_kubebuilder_and_kind_aka_kubernetes_operators/" class="title">Cloud native applications with kubebuilder and kind aka kubernetes operators</a>
                    </p>
                    <p class="item-date">
                        <time datetime="2020-01-17 00:00:00 &#43;0000 UTC" itemprop="datePublished">2020-01-17</time>
                    </p>
                </div>
            </li>
            <li>
                <div class="item-inner">
                    <p class="item-title">
                        <a href="https://techsquad.rocks/blog/how_to_report_spam_to_spamcop_from_gmail/" class="title">How to report spam to spamcop from gmail</a>
                    </p>
                    <p class="item-date">
                        <time datetime="2020-01-04 00:00:00 &#43;0000 UTC" itemprop="datePublished">2020-01-04</time>
                    </p>
                </div>
            </li>
        </ul>
    </div>
</div><div class="widget">
    <h3 class="widget-title"> Categories</h3>
    <div class="widget-body">
        <ul class="category-list">
            <li class="category-list-item"><a href="https://techsquad.rocks/categories/continuous-integration/" class="category-list-link">continuous-integration</a><span class="category-list-count">2</span></li>
            <li class="category-list-item"><a href="https://techsquad.rocks/categories/deployment-tools/" class="category-list-link">deployment-tools</a><span class="category-list-count">6</span></li>
            <li class="category-list-item"><a href="https://techsquad.rocks/categories/kubernetes/" class="category-list-link">kubernetes</a><span class="category-list-count">7</span></li>
            <li class="category-list-item"><a href="https://techsquad.rocks/categories/linux/" class="category-list-link">linux</a><span class="category-list-count">10</span></li>
            <li class="category-list-item"><a href="https://techsquad.rocks/categories/serverless/" class="category-list-link">serverless</a><span class="category-list-count">10</span></li>
            <li class="category-list-item"><a href="https://techsquad.rocks/categories/service-mesh/" class="category-list-link">service-mesh</a><span class="category-list-count">2</span></li>
            <li class="category-list-item"><a href="https://techsquad.rocks/categories/terraform/" class="category-list-link">terraform</a><span class="category-list-count">1</span></li>
        </ul>
    </div>
</div><div class="widget">
    <h3 class="widget-title"> Tags</h3>
    <div class="widget-body">
        <ul class="tag-list">
            
            
            <li class="tag-list-item"><a href="https://techsquad.rocks/tags/aws/" class="tag-list-link">aws</a><span
                    class="tag-list-count">5</span></li>
            
            
            <li class="tag-list-item"><a href="https://techsquad.rocks/tags/cognito/" class="tag-list-link">cognito</a><span
                    class="tag-list-count">1</span></li>
            
            
            <li class="tag-list-item"><a href="https://techsquad.rocks/tags/continuous-delivery/" class="tag-list-link">continuous-delivery</a><span
                    class="tag-list-count">2</span></li>
            
            
            <li class="tag-list-item"><a href="https://techsquad.rocks/tags/continuous-integration/" class="tag-list-link">continuous-integration</a><span
                    class="tag-list-count">3</span></li>
            
            
            <li class="tag-list-item"><a href="https://techsquad.rocks/tags/deployment-tools/" class="tag-list-link">deployment-tools</a><span
                    class="tag-list-count">6</span></li>
            
            
            <li class="tag-list-item"><a href="https://techsquad.rocks/tags/development/" class="tag-list-link">development</a><span
                    class="tag-list-count">9</span></li>
            
            
            <li class="tag-list-item"><a href="https://techsquad.rocks/tags/docker/" class="tag-list-link">docker</a><span
                    class="tag-list-count">4</span></li>
            
            
            <li class="tag-list-item"><a href="https://techsquad.rocks/tags/elm/" class="tag-list-link">elm</a><span
                    class="tag-list-count">1</span></li>
            
            
            <li class="tag-list-item"><a href="https://techsquad.rocks/tags/gcp/" class="tag-list-link">gcp</a><span
                    class="tag-list-count">1</span></li>
            
            
            <li class="tag-list-item"><a href="https://techsquad.rocks/tags/git/" class="tag-list-link">git</a><span
                    class="tag-list-count">2</span></li>
            
            
            <li class="tag-list-item"><a href="https://techsquad.rocks/tags/github/" class="tag-list-link">github</a><span
                    class="tag-list-count">1</span></li>
            
            
            <li class="tag-list-item"><a href="https://techsquad.rocks/tags/gitkube/" class="tag-list-link">gitkube</a><span
                    class="tag-list-count">1</span></li>
            
            
            <li class="tag-list-item"><a href="https://techsquad.rocks/tags/gitlab/" class="tag-list-link">gitlab</a><span
                    class="tag-list-count">1</span></li>
            
            
            <li class="tag-list-item"><a href="https://techsquad.rocks/tags/go/" class="tag-list-link">go</a><span
                    class="tag-list-count">12</span></li>
            
            
            <li class="tag-list-item"><a href="https://techsquad.rocks/tags/golang/" class="tag-list-link">golang</a><span
                    class="tag-list-count">11</span></li>
            
            
            <li class="tag-list-item"><a href="https://techsquad.rocks/tags/grpc/" class="tag-list-link">grpc</a><span
                    class="tag-list-count">1</span></li>
            
            
            <li class="tag-list-item"><a href="https://techsquad.rocks/tags/helm/" class="tag-list-link">helm</a><span
                    class="tag-list-count">2</span></li>
            
            
            <li class="tag-list-item"><a href="https://techsquad.rocks/tags/istio/" class="tag-list-link">istio</a><span
                    class="tag-list-count">2</span></li>
            
            
            <li class="tag-list-item"><a href="https://techsquad.rocks/tags/jsonnet/" class="tag-list-link">jsonnet</a><span
                    class="tag-list-count">2</span></li>
            
            
            <li class="tag-list-item"><a href="https://techsquad.rocks/tags/kind/" class="tag-list-link">kind</a><span
                    class="tag-list-count">1</span></li>
            
            
            <li class="tag-list-item"><a href="https://techsquad.rocks/tags/kops/" class="tag-list-link">kops</a><span
                    class="tag-list-count">1</span></li>
            
            
            <li class="tag-list-item"><a href="https://techsquad.rocks/tags/ksonnet/" class="tag-list-link">ksonnet</a><span
                    class="tag-list-count">2</span></li>
            
            
            <li class="tag-list-item"><a href="https://techsquad.rocks/tags/kubebuilder/" class="tag-list-link">kubebuilder</a><span
                    class="tag-list-count">2</span></li>
            
            
            <li class="tag-list-item"><a href="https://techsquad.rocks/tags/kubernetes/" class="tag-list-link">kubernetes</a><span
                    class="tag-list-count">14</span></li>
            
            
            <li class="tag-list-item"><a href="https://techsquad.rocks/tags/kustomize/" class="tag-list-link">kustomize</a><span
                    class="tag-list-count">1</span></li>
            
            
            <li class="tag-list-item"><a href="https://techsquad.rocks/tags/lambda/" class="tag-list-link">lambda</a><span
                    class="tag-list-count">1</span></li>
            
            
            <li class="tag-list-item"><a href="https://techsquad.rocks/tags/linux/" class="tag-list-link">linux</a><span
                    class="tag-list-count">17</span></li>
            
            
            <li class="tag-list-item"><a href="https://techsquad.rocks/tags/networking/" class="tag-list-link">networking</a><span
                    class="tag-list-count">1</span></li>
            
            
            <li class="tag-list-item"><a href="https://techsquad.rocks/tags/openssh/" class="tag-list-link">openssh</a><span
                    class="tag-list-count">3</span></li>
            
            
            <li class="tag-list-item"><a href="https://techsquad.rocks/tags/routing/" class="tag-list-link">routing</a><span
                    class="tag-list-count">1</span></li>
            
            
            <li class="tag-list-item"><a href="https://techsquad.rocks/tags/security/" class="tag-list-link">security</a><span
                    class="tag-list-count">4</span></li>
            
            
            <li class="tag-list-item"><a href="https://techsquad.rocks/tags/serverless/" class="tag-list-link">serverless</a><span
                    class="tag-list-count">8</span></li>
            
            
            <li class="tag-list-item"><a href="https://techsquad.rocks/tags/service-mesh/" class="tag-list-link">service-mesh</a><span
                    class="tag-list-count">2</span></li>
            
            
            <li class="tag-list-item"><a href="https://techsquad.rocks/tags/skaffold/" class="tag-list-link">skaffold</a><span
                    class="tag-list-count">1</span></li>
            
            
            <li class="tag-list-item"><a href="https://techsquad.rocks/tags/slack/" class="tag-list-link">slack</a><span
                    class="tag-list-count">1</span></li>
            
            
            <li class="tag-list-item"><a href="https://techsquad.rocks/tags/terraform/" class="tag-list-link">terraform</a><span
                    class="tag-list-count">6</span></li>
            
            
            <li class="tag-list-item"><a href="https://techsquad.rocks/tags/tips-and-tricks/" class="tag-list-link">tips-and-tricks</a><span
                    class="tag-list-count">3</span></li>
            
            
            <li class="tag-list-item"><a href="https://techsquad.rocks/tags/tmux/" class="tag-list-link">tmux</a><span
                    class="tag-list-count">2</span></li>
            
            
            <li class="tag-list-item"><a href="https://techsquad.rocks/tags/travis-ci/" class="tag-list-link">travis-ci</a><span
                    class="tag-list-count">2</span></li>
            
            
            <li class="tag-list-item"><a href="https://techsquad.rocks/tags/urxvt/" class="tag-list-link">urxvt</a><span
                    class="tag-list-count">2</span></li>
            
            
            <li class="tag-list-item"><a href="https://techsquad.rocks/tags/vault/" class="tag-list-link">vault</a><span
                    class="tag-list-count">2</span></li>
            
            
            <li class="tag-list-item"><a href="https://techsquad.rocks/tags/vim/" class="tag-list-link">vim</a><span
                    class="tag-list-count">2</span></li>
            
        </ul>

    </div>
</div>
  </div>
</aside>

    
    
<aside class="sidebar sidebar-toc collapse" id="collapseToc" itemscope itemtype="http://schema.org/WPSideBar">
  <div class="slimContent">
    <h4 class="toc-title">Catalogue</h4>
    <nav id="toc" class="js-toc toc">

    </nav>
  </div>
</aside>
<main class="main" role="main"><div class="content">
  <article id="-" class="article article-type-" itemscope
    itemtype="http://schema.org/BlogPosting">
    
    <div class="article-header">
      <h1 itemprop="name">
  <a
    class="article-title"
    href="/blog/sending_emails_with_lambda_and_ses/"
    >Sending emails with AWS Lambda and SES from a HTML form</a
  >
</h1>

      <div class="article-meta">
        
<span class="article-date">
  <i class="icon icon-calendar-check"></i>&nbsp;
<a href="https://techsquad.rocks/blog/sending_emails_with_lambda_and_ses/" class="article-date">
  <time datetime="2019-02-03 00:00:00 &#43;0000 UTC" itemprop="datePublished">2019-02-03</time>
</a>
</span>
<span class="article-category">
  <i class="icon icon-folder"></i>&nbsp;
  <a class="article-category-link" href="/categories/serverless/"> serverless </a>
</span>  
  <span class="article-tag">
    <i class="icon icon-tags"></i>&nbsp;
    <a class="article-tag-link" href="/tags/go/"> go </a>
    <a class="article-tag-link" href="/tags/golang/"> golang </a>
    <a class="article-tag-link" href="/tags/development/"> development </a>
    <a class="article-tag-link" href="/tags/serverless/"> serverless </a>
    <a class="article-tag-link" href="/tags/linux/"> linux </a>
  </span>

        <span class="post-comment"><i class="icon icon-comment"></i>&nbsp;<a href="/blog/sending_emails_with_lambda_and_ses/#comments"
            class="article-comment-link">Comments</a></span>
		<span class="post-wordcount hidden-xs" itemprop="wordCount"> Word Count: 1223 words</span>
		<span class="post-readcount hidden-xs" itemprop="timeRequired"> Read Count: 6 minutes </span>

      </div>
    </div>
    <div class="article-entry marked-body js-toc-content" itemprop="articleBody">
      <h5 id="serverless-series"><strong>Serverless series</strong></h5>
<p>Part I: <a href="https://techsquad.rocks/blog/serving_static_sites_with_s3_and_cloudfront/">Serving static websites with s3 and cloudfront</a>, so refer to that one before starting this one if you want to know how did we get here.</p>
<p>Part II: <a href="https://techsquad.rocks/blog/sending_emails_with_lambda_and_ses/">Sending emails with AWS Lambda and SES from a HTML form</a>, <strong>You are here</strong>.</p>
<h5 id="introduction"><strong>Introduction</strong></h5>
<p>This article is part of the serverless series, in this article we will see how to create a serverless function in AWS Lambda to send an email coming from the HTML form in the site the source code can be <a href="https://github.com/kainlite/aws-serverless-go-ses-example">found here</a>, that is the go version but if you prefer node you can use <a href="https://github.com/kainlite/aws-serverless-nodejs-ses-example">this one</a>.</p>
<h5 id="serverless-framework"><strong>Serverless framework</strong></h5>
<p><strong>As usual I will be using the serverless framework to manage our functions, create the project</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">mkdir techsquad-functions <span style="color:#f92672">&amp;&amp;</span> cd techsquad-functions <span style="color:#f92672">&amp;&amp;</span> serverless create -t aws-go
<span style="color:#75715e"># OUTPUT:</span>
<span style="color:#75715e"># Serverless: Generating boilerplate...</span>
<span style="color:#75715e">#  _______                             __</span>
<span style="color:#75715e"># |   _   .-----.----.--.--.-----.----|  .-----.-----.-----.</span>
<span style="color:#75715e"># |   |___|  -__|   _|  |  |  -__|   _|  |  -__|__ --|__ --|</span>
<span style="color:#75715e"># |____   |_____|__|  \___/|_____|__| |__|_____|_____|_____|</span>
<span style="color:#75715e"># |   |   |             The Serverless Application Framework</span>
<span style="color:#75715e"># |       |                           serverless.com, v1.36.1</span>
<span style="color:#75715e">#  -------&#39;</span>
#
<span style="color:#75715e"># Serverless: Successfully generated boilerplate for template: &#34;aws-go&#34;</span>
<span style="color:#75715e"># Serverless: NOTE: Please update the &#34;service&#34; property in serverless.yml with your service name</span></code></pre></div></p>
<p>After creating the project we can update the serverless manifest as follow:
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">service: sendMail

frameworkVersion: <span style="color:#e6db74">&#34;&gt;=1.28.0 &lt;2.0.0&#34;</span>

provider:
  name: aws
  runtime: go1.x
  region: us-east-1
  memorySize: <span style="color:#ae81ff">128</span>
  versionFunctions: false
  stage: <span style="color:#e6db74">&#39;prod&#39;</span>

  iamRoleStatements:
    - Effect: <span style="color:#e6db74">&#34;Allow&#34;</span>
      Action:
        - <span style="color:#e6db74">&#34;ses:*&#34;</span>
        - <span style="color:#e6db74">&#34;lambda:*&#34;</span>
      Resource:
        - <span style="color:#e6db74">&#34;*&#34;</span>

package:
 exclude:
   - ./**
 include:
   - ./send_mail/send_mail

functions:
  send_mail:
    handler: send_mail/send_mail
    events:
      - http:
          path: sendMail
          method: post</code></pre></div>
The interesting parts here are the IAM permissions and the function send_mail, the rest is pretty much standard, we define a function and the event HTTP POST for the API Gateway, where our executable can be found and we also request permissions to send emails via SES.</p>
<p><strong>Deploy the function</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">make deploy
<span style="color:#75715e"># OUTPUT:</span>
<span style="color:#75715e"># rm -rf ./send_mail/send_mail</span>
<span style="color:#75715e"># env GOOS=linux go build -ldflags=&#34;-s -w&#34; -o send_mail/send_mail send_mail/main.go</span>
<span style="color:#75715e"># sls deploy --verbose</span>
<span style="color:#75715e"># Serverless: WARNING: Missing &#34;tenant&#34; and &#34;app&#34; properties in serverless.yml. Without these properties, you can not publish the service to the Serverless Platform.</span>
<span style="color:#75715e"># Serverless: Packaging service...</span>
<span style="color:#75715e"># Serverless: Excluding development dependencies...</span>
<span style="color:#75715e"># Serverless: Uploading CloudFormation file to S3...</span>
<span style="color:#75715e"># Serverless: Uploading artifacts...</span>
<span style="color:#75715e"># Serverless: Uploading service .zip file to S3 (7.31 MB)...</span>
<span style="color:#75715e"># Serverless: Validating template...</span>
<span style="color:#75715e"># Serverless: Updating Stack...</span>
<span style="color:#75715e"># Serverless: Checking Stack update progress...</span>
<span style="color:#75715e"># CloudFormation - UPDATE_IN_PROGRESS - AWS::CloudFormation::Stack - sendMail-prod</span>
<span style="color:#75715e"># CloudFormation - UPDATE_IN_PROGRESS - AWS::Lambda::Function - SendUnderscoremailLambdaFunction</span>
<span style="color:#75715e"># CloudFormation - UPDATE_COMPLETE - AWS::Lambda::Function - SendUnderscoremailLambdaFunction</span>
<span style="color:#75715e"># CloudFormation - CREATE_IN_PROGRESS - AWS::ApiGateway::Deployment - ApiGatewayDeployment1549246566486</span>
<span style="color:#75715e"># CloudFormation - CREATE_IN_PROGRESS - AWS::ApiGateway::Deployment - ApiGatewayDeployment1549246566486</span>
<span style="color:#75715e"># CloudFormation - CREATE_COMPLETE - AWS::ApiGateway::Deployment - ApiGatewayDeployment1549246566486</span>
<span style="color:#75715e"># CloudFormation - UPDATE_COMPLETE_CLEANUP_IN_PROGRESS - AWS::CloudFormation::Stack - sendMail-prod</span>
<span style="color:#75715e"># CloudFormation - DELETE_IN_PROGRESS - AWS::ApiGateway::Deployment - ApiGatewayDeployment1549246013644</span>
<span style="color:#75715e"># CloudFormation - DELETE_COMPLETE - AWS::ApiGateway::Deployment - ApiGatewayDeployment1549246013644</span>
<span style="color:#75715e"># CloudFormation - UPDATE_COMPLETE - AWS::CloudFormation::Stack - sendMail-prod</span>
<span style="color:#75715e"># Serverless: Stack update finished...</span>
<span style="color:#75715e"># Service Information</span>
<span style="color:#75715e"># service: sendMail</span>
<span style="color:#75715e"># stage: prod</span>
<span style="color:#75715e"># region: us-east-1</span>
<span style="color:#75715e"># stack: sendMail-prod</span>
<span style="color:#75715e"># api keys:</span>
<span style="color:#75715e">#   None</span>
<span style="color:#75715e"># endpoints:</span>
<span style="color:#75715e">#   POST - https://m8ebtlirjg.execute-api.us-east-1.amazonaws.com/prod/sendMail</span>
<span style="color:#75715e"># functions:</span>
<span style="color:#75715e">#   send_mail: sendMail-prod-send_mail</span>
<span style="color:#75715e"># layers:</span>
<span style="color:#75715e">#   None</span>
#
<span style="color:#75715e"># Stack Outputs</span>
<span style="color:#75715e"># ServiceEndpoint: https://m8ebtlirjg.execute-api.us-east-1.amazonaws.com/prod</span>
<span style="color:#75715e"># ServerlessDeploymentBucketName: sendmail-prod-serverlessdeploymentbucket-1vbmb6gwt8559</span></code></pre></div>
Everything looks right, so what&rsquo;s next? the source code.</p>
<h5 id="lambda"><strong>Lambda</strong></h5>
<p>This is basically the full source code for this function, as you will see it&rsquo;s really simple:
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#f92672">package</span> <span style="color:#a6e22e">main</span>

<span style="color:#f92672">import</span> (
	<span style="color:#e6db74">&#34;context&#34;</span>
	<span style="color:#e6db74">&#34;encoding/json&#34;</span>
	<span style="color:#e6db74">&#34;fmt&#34;</span>

	<span style="color:#e6db74">&#34;github.com/aws/aws-lambda-go/events&#34;</span>
	<span style="color:#e6db74">&#34;github.com/aws/aws-lambda-go/lambda&#34;</span>
	<span style="color:#e6db74">&#34;github.com/aws/aws-sdk-go/aws&#34;</span>
	<span style="color:#e6db74">&#34;github.com/aws/aws-sdk-go/aws/awserr&#34;</span>
	<span style="color:#e6db74">&#34;github.com/aws/aws-sdk-go/aws/session&#34;</span>
	<span style="color:#e6db74">&#34;github.com/aws/aws-sdk-go/service/ses&#34;</span>
)

<span style="color:#66d9ef">type</span> <span style="color:#a6e22e">Response</span> <span style="color:#a6e22e">events</span>.<span style="color:#a6e22e">APIGatewayProxyResponse</span>

<span style="color:#66d9ef">type</span> <span style="color:#a6e22e">RequestData</span> <span style="color:#66d9ef">struct</span> {
	<span style="color:#a6e22e">Email</span>   <span style="color:#66d9ef">string</span>
	<span style="color:#a6e22e">Message</span> <span style="color:#66d9ef">string</span>
}

<span style="color:#75715e">// This could be env vars
</span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> (
	<span style="color:#a6e22e">Sender</span>    = <span style="color:#e6db74">&#34;web@serverless.techsquad.rocks&#34;</span>
	<span style="color:#a6e22e">Recipient</span> = <span style="color:#e6db74">&#34;kainlite@gmail.com&#34;</span>
	<span style="color:#a6e22e">CharSet</span>   = <span style="color:#e6db74">&#34;UTF-8&#34;</span>
)

<span style="color:#66d9ef">func</span> <span style="color:#a6e22e">Handler</span>(<span style="color:#a6e22e">ctx</span> <span style="color:#a6e22e">context</span>.<span style="color:#a6e22e">Context</span>, <span style="color:#a6e22e">request</span> <span style="color:#a6e22e">events</span>.<span style="color:#a6e22e">APIGatewayProxyRequest</span>) (<span style="color:#a6e22e">Response</span>, <span style="color:#66d9ef">error</span>) {
	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;Request: %+v\n&#34;</span>, <span style="color:#a6e22e">request</span>)

	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;Processing request data for request %s.\n&#34;</span>, <span style="color:#a6e22e">request</span>.<span style="color:#a6e22e">RequestContext</span>.<span style="color:#a6e22e">RequestID</span>)
	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;Body size = %d.\n&#34;</span>, len(<span style="color:#a6e22e">request</span>.<span style="color:#a6e22e">Body</span>))

	<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">requestData</span> <span style="color:#a6e22e">RequestData</span>
	<span style="color:#a6e22e">json</span>.<span style="color:#a6e22e">Unmarshal</span>([]byte(<span style="color:#a6e22e">request</span>.<span style="color:#a6e22e">Body</span>), <span style="color:#f92672">&amp;</span><span style="color:#a6e22e">requestData</span>)

	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;RequestData: %+v&#34;</span>, <span style="color:#a6e22e">requestData</span>)
	<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">result</span> <span style="color:#66d9ef">string</span>
	<span style="color:#66d9ef">if</span> len(<span style="color:#a6e22e">requestData</span>.<span style="color:#a6e22e">Email</span>) &gt; <span style="color:#ae81ff">0</span> <span style="color:#f92672">&amp;&amp;</span> len(<span style="color:#a6e22e">requestData</span>.<span style="color:#a6e22e">Message</span>) &gt; <span style="color:#ae81ff">0</span> {
		<span style="color:#a6e22e">result</span>, <span style="color:#a6e22e">_</span> = <span style="color:#a6e22e">send</span>(<span style="color:#a6e22e">requestData</span>.<span style="color:#a6e22e">Email</span>, <span style="color:#a6e22e">requestData</span>.<span style="color:#a6e22e">Message</span>)
	}

	<span style="color:#a6e22e">resp</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">Response</span>{
		<span style="color:#a6e22e">StatusCode</span>:      <span style="color:#ae81ff">200</span>,
		<span style="color:#a6e22e">IsBase64Encoded</span>: <span style="color:#66d9ef">false</span>,
		<span style="color:#a6e22e">Body</span>:            <span style="color:#a6e22e">result</span>,
		<span style="color:#a6e22e">Headers</span>: <span style="color:#66d9ef">map</span>[<span style="color:#66d9ef">string</span>]<span style="color:#66d9ef">string</span>{
			<span style="color:#e6db74">&#34;Content-Type&#34;</span>:           <span style="color:#e6db74">&#34;application/json&#34;</span>,
			<span style="color:#e6db74">&#34;X-MyCompany-Func-Reply&#34;</span>: <span style="color:#e6db74">&#34;send-mail-handler&#34;</span>,
		},
	}

	<span style="color:#66d9ef">return</span> <span style="color:#a6e22e">resp</span>, <span style="color:#66d9ef">nil</span>
}

<span style="color:#66d9ef">func</span> <span style="color:#a6e22e">send</span>(<span style="color:#a6e22e">Email</span> <span style="color:#66d9ef">string</span>, <span style="color:#a6e22e">Message</span> <span style="color:#66d9ef">string</span>) (<span style="color:#66d9ef">string</span>, <span style="color:#66d9ef">error</span>) {
	<span style="color:#75715e">// This could be an env var
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">sess</span>, <span style="color:#a6e22e">err</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">session</span>.<span style="color:#a6e22e">NewSession</span>(<span style="color:#f92672">&amp;</span><span style="color:#a6e22e">aws</span>.<span style="color:#a6e22e">Config</span>{
		<span style="color:#a6e22e">Region</span>: <span style="color:#a6e22e">aws</span>.<span style="color:#a6e22e">String</span>(<span style="color:#e6db74">&#34;us-east-1&#34;</span>)},
	)

	<span style="color:#75715e">// Create an SES session.
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">svc</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">ses</span>.<span style="color:#a6e22e">New</span>(<span style="color:#a6e22e">sess</span>)

	<span style="color:#75715e">// Assemble the email.
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">input</span> <span style="color:#f92672">:=</span> <span style="color:#f92672">&amp;</span><span style="color:#a6e22e">ses</span>.<span style="color:#a6e22e">SendEmailInput</span>{
		<span style="color:#a6e22e">Destination</span>: <span style="color:#f92672">&amp;</span><span style="color:#a6e22e">ses</span>.<span style="color:#a6e22e">Destination</span>{
			<span style="color:#a6e22e">CcAddresses</span>: []<span style="color:#f92672">*</span><span style="color:#66d9ef">string</span>{},
			<span style="color:#a6e22e">ToAddresses</span>: []<span style="color:#f92672">*</span><span style="color:#66d9ef">string</span>{
				<span style="color:#a6e22e">aws</span>.<span style="color:#a6e22e">String</span>(<span style="color:#a6e22e">Recipient</span>),
			},
		},
		<span style="color:#a6e22e">Message</span>: <span style="color:#f92672">&amp;</span><span style="color:#a6e22e">ses</span>.<span style="color:#a6e22e">Message</span>{
			<span style="color:#a6e22e">Body</span>: <span style="color:#f92672">&amp;</span><span style="color:#a6e22e">ses</span>.<span style="color:#a6e22e">Body</span>{
				<span style="color:#a6e22e">Html</span>: <span style="color:#f92672">&amp;</span><span style="color:#a6e22e">ses</span>.<span style="color:#a6e22e">Content</span>{
					<span style="color:#a6e22e">Charset</span>: <span style="color:#a6e22e">aws</span>.<span style="color:#a6e22e">String</span>(<span style="color:#a6e22e">CharSet</span>),
					<span style="color:#a6e22e">Data</span>:    <span style="color:#a6e22e">aws</span>.<span style="color:#a6e22e">String</span>(<span style="color:#a6e22e">Message</span>),
				},
				<span style="color:#a6e22e">Text</span>: <span style="color:#f92672">&amp;</span><span style="color:#a6e22e">ses</span>.<span style="color:#a6e22e">Content</span>{
					<span style="color:#a6e22e">Charset</span>: <span style="color:#a6e22e">aws</span>.<span style="color:#a6e22e">String</span>(<span style="color:#a6e22e">CharSet</span>),
					<span style="color:#a6e22e">Data</span>:    <span style="color:#a6e22e">aws</span>.<span style="color:#a6e22e">String</span>(<span style="color:#a6e22e">Message</span>),
				},
			},
			<span style="color:#a6e22e">Subject</span>: <span style="color:#f92672">&amp;</span><span style="color:#a6e22e">ses</span>.<span style="color:#a6e22e">Content</span>{
				<span style="color:#a6e22e">Charset</span>: <span style="color:#a6e22e">aws</span>.<span style="color:#a6e22e">String</span>(<span style="color:#a6e22e">CharSet</span>),
				<span style="color:#a6e22e">Data</span>:    <span style="color:#a6e22e">aws</span>.<span style="color:#a6e22e">String</span>(<span style="color:#a6e22e">Email</span>),
			},
		},
		<span style="color:#75715e">// We are using the same sender because it needs to be validated in SES.
</span><span style="color:#75715e"></span>		<span style="color:#a6e22e">Source</span>: <span style="color:#a6e22e">aws</span>.<span style="color:#a6e22e">String</span>(<span style="color:#a6e22e">Sender</span>),

		<span style="color:#75715e">// Uncomment to use a configuration set
</span><span style="color:#75715e"></span>		<span style="color:#75715e">//ConfigurationSetName: aws.String(ConfigurationSet),
</span><span style="color:#75715e"></span>	}

	<span style="color:#75715e">// Attempt to send the email.
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">result</span>, <span style="color:#a6e22e">err</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">svc</span>.<span style="color:#a6e22e">SendEmail</span>(<span style="color:#a6e22e">input</span>)

	<span style="color:#75715e">// Display error messages if they occur.
</span><span style="color:#75715e"></span>	<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">err</span> <span style="color:#f92672">!=</span> <span style="color:#66d9ef">nil</span> {
		<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">aerr</span>, <span style="color:#a6e22e">ok</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">err</span>.(<span style="color:#a6e22e">awserr</span>.<span style="color:#a6e22e">Error</span>); <span style="color:#a6e22e">ok</span> {
			<span style="color:#66d9ef">switch</span> <span style="color:#a6e22e">aerr</span>.<span style="color:#a6e22e">Code</span>() {
			<span style="color:#66d9ef">case</span> <span style="color:#a6e22e">ses</span>.<span style="color:#a6e22e">ErrCodeMessageRejected</span>:
				<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">ses</span>.<span style="color:#a6e22e">ErrCodeMessageRejected</span>, <span style="color:#a6e22e">aerr</span>.<span style="color:#a6e22e">Error</span>())
			<span style="color:#66d9ef">case</span> <span style="color:#a6e22e">ses</span>.<span style="color:#a6e22e">ErrCodeMailFromDomainNotVerifiedException</span>:
				<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">ses</span>.<span style="color:#a6e22e">ErrCodeMailFromDomainNotVerifiedException</span>, <span style="color:#a6e22e">aerr</span>.<span style="color:#a6e22e">Error</span>())
			<span style="color:#66d9ef">case</span> <span style="color:#a6e22e">ses</span>.<span style="color:#a6e22e">ErrCodeConfigurationSetDoesNotExistException</span>:
				<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">ses</span>.<span style="color:#a6e22e">ErrCodeConfigurationSetDoesNotExistException</span>, <span style="color:#a6e22e">aerr</span>.<span style="color:#a6e22e">Error</span>())
			<span style="color:#66d9ef">default</span>:
				<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">aerr</span>.<span style="color:#a6e22e">Error</span>())
			}
		} <span style="color:#66d9ef">else</span> {
			<span style="color:#75715e">// Print the error, cast err to awserr.Error to get the Code and
</span><span style="color:#75715e"></span>			<span style="color:#75715e">// Message from an error.
</span><span style="color:#75715e"></span>			<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">err</span>.<span style="color:#a6e22e">Error</span>())
		}

		<span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#34;there was an unexpected error&#34;</span>, <span style="color:#a6e22e">err</span>
	}

	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#e6db74">&#34;Email Sent to address: &#34;</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">Recipient</span>)
	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">result</span>)
	<span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#34;sent!&#34;</span>, <span style="color:#a6e22e">err</span>
}

<span style="color:#66d9ef">func</span> <span style="color:#a6e22e">main</span>() {
	<span style="color:#a6e22e">lambda</span>.<span style="color:#a6e22e">Start</span>(<span style="color:#a6e22e">Handler</span>)
}</code></pre></div>
The code is pretty much straight forward it only expects 2 parameters and it will send an email and return sent! if everything went well. You can debug and compile your function before uploading by issuing the command <code>make</code> (This is really useful), and if you use <code>make deploy</code> you will save lots of time by only deploying working files.</p>
<h5 id="ses"><strong>SES</strong></h5>
<p>For this to work you will need to verify/validate your domain in SES.</p>
<p>Go to <code>SES-&gt;Domains-&gt;Verify a New Domain</code>.
<figure>
    <img src="/img/aws-ses-validate-domain.png" width="100%"/> 
</figure>
</p>
<p>After putting your domain in, you will see something like this:
<figure>
    <img src="/img/aws-ses-validation-and-dkim.png" width="100%"/> 
</figure>
</p>
<p>As I don&rsquo;t have this domain in Route53 I don&rsquo;t have a button to add the records to it (which makes everything simpler and faster), but it&rsquo;s easy enough just create a few dns records and wait a few minutes until you get something like this:
<figure>
    <img src="/img/aws-ses-validation-ok.png" width="100%"/> 
</figure>
</p>
<p><strong>After that just test it</strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">serverless invoke -f send_mail -d <span style="color:#e6db74">&#39;{ &#34;Email&#34;: &#34;kainlite@gmail.com&#34;, &#34;Message&#34;: &#34;test&#34; }&#39;</span>
<span style="color:#75715e"># OUTPUT:</span>
<span style="color:#f92672">{</span>
    <span style="color:#e6db74">&#34;statusCode&#34;</span>: 200,
    <span style="color:#e6db74">&#34;headers&#34;</span>: <span style="color:#f92672">{</span>
        <span style="color:#e6db74">&#34;Content-Type&#34;</span>: <span style="color:#e6db74">&#34;application/json&#34;</span>,
        <span style="color:#e6db74">&#34;X-MyCompany-Func-Reply&#34;</span>: <span style="color:#e6db74">&#34;send-mail-handler&#34;</span>
    <span style="color:#f92672">}</span>,
    <span style="color:#e6db74">&#34;body&#34;</span>: <span style="color:#e6db74">&#34;&#34;</span>
<span style="color:#f92672">}</span></code></pre></div>
After hitting enter the message popped up right away in my inbox :).</p>
<p><strong>Another option is to use <a href="https://devhints.io/httpie">httpie</a></strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">echo <span style="color:#e6db74">&#39;{ &#34;email&#34;: &#34;kainlite@gmail.com&#34;, &#34;message&#34;: &#34;test2&#34; }&#39;</span> | http https://m8ebtlirjg.execute-api.us-east-1.amazonaws.com/prod/sendMail
<span style="color:#75715e"># OUTPUT:</span>
<span style="color:#75715e"># HTTP/1.1 200 OK</span>
<span style="color:#75715e"># Access-Control-Allow-Origin: *</span>
<span style="color:#75715e"># Connection: keep-alive</span>
<span style="color:#75715e"># Content-Length: 32</span>
<span style="color:#75715e"># Content-Type: application/json</span>
<span style="color:#75715e"># Date: Sun, 03 Feb 2019 02:24:25 GMT</span>
<span style="color:#75715e"># Via: 1.1 3421ea0c15d4fdc0bcb792131861cb1f.cloudfront.net (CloudFront)</span>
<span style="color:#75715e"># X-Amz-Cf-Id: kGK4R9kTpcWjZap8aeyPu0vdiCtpQ4gnhCAtCeeA6OJufzaTDL__0w==</span>
<span style="color:#75715e"># X-Amzn-Trace-Id: Root=1-5c5650d9-7c3c8fcc5e303ca480739560;Sampled=0</span>
<span style="color:#75715e"># X-Cache: Miss from cloudfront</span>
<span style="color:#75715e"># x-amz-apigw-id: UgGR7FlWIAMF75Q=</span>
<span style="color:#75715e"># x-amzn-RequestId: d2f45b14-275a-11e9-a8f3-47d675eed13e</span>
#
<span style="color:#75715e"># sent!</span></code></pre></div></p>
<p><strong>OR <a href="https://devhints.io/curl">curl</a></strong>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">curl -i -X POST https://m8ebtlirjg.execute-api.us-east-1.amazonaws.com/prod/sendMail -d <span style="color:#e6db74">&#39;{ &#34;email&#34;: &#34;kainlite@gmail.com&#34;, &#34;message&#34;: &#34;test3&#34; }&#39;</span>
<span style="color:#75715e"># OUTPUT:</span>
<span style="color:#75715e"># HTTP/2 200</span>
<span style="color:#75715e"># content-type: application/json</span>
<span style="color:#75715e"># content-length: 32</span>
<span style="color:#75715e"># date: Sun, 03 Feb 2019 02:28:04 GMT</span>
<span style="color:#75715e"># x-amzn-requestid: 55cc72d0-275b-11e9-99bd-91c3fab78a2f</span>
<span style="color:#75715e"># access-control-allow-origin: *</span>
<span style="color:#75715e"># x-amz-apigw-id: UgG0OEigoAMF-Yg=</span>
<span style="color:#75715e"># x-amzn-trace-id: Root=1-5c5651b4-fc5427b4798e14dc61fe161e;Sampled=0</span>
<span style="color:#75715e"># x-cache: Miss from cloudfront</span>
<span style="color:#75715e"># via: 1.1 2167e4d6cf81822217c1ea31b3d3ba7e.cloudfront.net (CloudFront)</span>
<span style="color:#75715e"># x-amz-cf-id: FttmBoeUaSwQ2AArTgVmI5br51zwVMfUrVpXPLGm1HacV4yS9IYMHA==</span>
#
<span style="color:#75715e"># sent!</span></code></pre></div></p>
<p>And that&rsquo;s all for now, see you in the next article.</p>
<h3 id="errata">Errata</h3>
<p>If you spot any error or have any suggestion, please send me a message so it gets fixed.</p>
<p>Also, you can check the source code and changes in the <a href="https://github.com/kainlite/kainlite.github.io">generated code</a> and the <a href="https://github.com/kainlite/blog">sources here</a></p>

    </div>
    <div class="article-footer">
<blockquote class="mt-2x">
  <ul class="post-copyright list-unstyled">
    <li class="post-copyright-link hidden-xs">
      <strong>Permalink: </strong>
      <a href="https://techsquad.rocks/blog/sending_emails_with_lambda_and_ses/" title="Sending emails with AWS Lambda and SES from a HTML form" target="_blank" rel="external">https://techsquad.rocks/blog/sending_emails_with_lambda_and_ses/</a>
    </li>
    <li class="post-copyright-license">
      <strong>Licenseï¼š</strong><a href="https://github.com/kainlite/blog/blob/master/LICENSE.md" target="_blank" rel="external">MIT License</a>
    </li>
  </ul>
</blockquote>

<div class="panel panel-default panel-badger">
  <div class="panel-body">
    <figure class="media">
      <div class="media-left">
        <a href="https://github.com/kainlite" target="_blank" class="img-burn thumb-sm visible-lg">
          <img src="https://techsquad.rocks/img/logo-glider.png" class="img-rounded w-full" alt="">
        </a>
      </div>
      <div class="media-body">
        <h3 class="media-heading"><a href="https://github.com/kainlite" target="_blank"><span class="text-dark">kainlite</span><small class="ml-1x">DevOps Practitioner</small></a></h3>
        <div>Articles about Kubernetes, CI/CD, Git, Linux, Containers, Golang, and probably some more random stuff, you can subscribe via RSS or JSON Feed.</div>
      </div>
    </figure>
  </div>
</div>

    </div>
  </article>
<section id="comments">
    <div id="disqus_thread">
        <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    </div>
</section>

</div><nav class="bar bar-footer clearfix" data-stick-bottom>
    <div class="bar-inner">
        <ul class="pager pull-left">
            <li class="prev">
                <a href="https://techsquad.rocks/blog/serving_static_sites_with_s3_and_cloudfront/" title="Serve your static website with S3 and CloudFront"><i
                        class="icon icon-angle-left"
                        aria-hidden="true"></i><span>&nbsp;&nbsp;Older</span></a>
            </li>
            <li class="next">
                <a href="https://techsquad.rocks/blog/what_does_the_serverless_framework_does_for_me/"
                    title="What does the serverless framework does for me"><span>Newer&nbsp;&nbsp;</span><i
                        class="icon icon-angle-right" aria-hidden="true"></i></a>
            </li>
            
            <li class="toggle-toc">
                <a class="toggle-btn collapsed" data-toggle="collapse" href="#collapseToc" aria-expanded="false"
                    title="Catalogue" role="button">
                    <span>[&nbsp;</span><span>Catalogue</span>
                    <i class="text-collapsed icon icon-anchor"></i>
                    <i class="text-in icon icon-close"></i>
                    <span>]</span>
                </a>
            </li>
        </ul>
        <div class="bar-right">
            <div class="share-component" data-sites="facebook,twitter,google,linkedin"
                data-mobile-sites=""></div>
        </div>
    </div>
</nav>

</main><footer class="footer" itemscope itemtype="http://schema.org/WPFooter"><script>
(function buymeacoffee() {
  var buymeacoffee = document.createElement('script');
  buymeacoffee.setAttribute('src','https://cdnjs.buymeacoffee.com/1.0.0/widget.prod.min.js');
  buymeacoffee.async = true;
  buymeacoffee.setAttribute('data-id','NDx5OFh');
  buymeacoffee.setAttribute('data-name','BMC-Widget');
  buymeacoffee.setAttribute('data-description','Support me on Buy me a coffee!');
  buymeacoffee.setAttribute('data-message','Thank you for visiting. You can now buy me a coffee!');
  buymeacoffee.setAttribute('data-color','#79D6B5');
  buymeacoffee.setAttribute('data-position','right');
  buymeacoffee.setAttribute('data-x_margin','10');
  buymeacoffee.setAttribute('data-y_margin','10');

  
  
  

  

  
  
  

  
  
  
  
  
  document.getElementsByTagName('head')[0].appendChild(buymeacoffee);
})()
</script>

<ul class="social-links">
    <li><a href="mailto:kainlite@gmail.com" target="_blank" title="email" data-toggle=tooltip data-placement=top >
            <i class="icon icon-email"></i></a></li>
    <li><a href="https://github.com/kainlite" target="_blank" title="github" data-toggle=tooltip data-placement=top >
            <i class="icon icon-github"></i></a></li>
    <li><a href="https://www.linkedin.com/in/gabrielgarrido/" target="_blank" title="linkedin" data-toggle=tooltip data-placement=top >
            <i class="icon icon-linkedin"></i></a></li>
    <li><a href="https://techsquad.rocks/index.xml" target="_blank" title="rss" data-toggle=tooltip data-placement=top >
            <i class="icon icon-rss"></i></a></li>
    <li><a href="https://techsquad.rocks/index.json" target="_blank" title="share" data-toggle=tooltip data-placement=top >
            <i class="icon icon-share"></i></a></li>
    <li><a href="https://stackoverflow.com/users/313941/kainlite" target="_blank" title="stackoverflow" data-toggle=tooltip data-placement=top >
            <i class="icon icon-stackoverflow"></i></a></li>
    <li><a href="https://twitter.com/kainlite" target="_blank" title="twitter" data-toggle=tooltip data-placement=top >
            <i class="icon icon-twitter"></i></a></li>
</ul>

  <div class="copyright">
    <div class="publishby">
        Â© All rights reserved. Powered by <a href="https://gohugo.io/" target="_blank">Hugo</a> and <a href="https://github.com/xiaoheiAh/hugo-theme-pure" target="_blank">Pure</a> with â™¥
    </div>
  </div>
</footer>

<script src="https://cdn.jsdelivr.net/npm/jquery@3.4.1/dist/jquery.min.js"></script>
<script>
    window.jQuery || document.write('<script src="js/jquery.min.js"><\/script>')
</script>
<script type="text/javascript" src="https://cdn.staticfile.org/highlight.js/9.15.10/highlight.min.js"></script>
<script type="text/javascript" src="https://cdn.staticfile.org/highlight.js/9.15.10/languages/python.min.js" defer></script>
<script type="text/javascript" src="https://cdn.staticfile.org/highlight.js/9.15.10/languages/javascript.min.js" defer></script>
<script type="text/javascript" src="https://cdn.staticfile.org/highlight.js/9.15.10/languages/bash.min.js" defer></script>
<script type="text/javascript" src="https://cdn.staticfile.org/highlight.js/9.15.10/languages/go.min.js" defer></script>
<script type="text/javascript" src="https://cdn.staticfile.org/highlight.js/9.15.10/languages/yaml.min.js" defer></script><script>
    hljs.configure({
        tabReplace: '    ', 
        classPrefix: ''     
        
    })
    hljs.initHighlightingOnLoad();
</script>
<script src="https://techsquad.rocks/js/application.min.bdeb64b910570b6c41badc6a05b7afb0c8ad9efd8525de3c7257d59e786326a3.js"></script>
<script src="https://techsquad.rocks/js/plugin.min.51ff8c7317566f82259170fa36e09c4493adc9b9378b427a01ad3f017ebac7dd.js"></script>

<script>
    (function (window) {
        var INSIGHT_CONFIG = {
            TRANSLATION: {
                POSTS: 'Posts',
                PAGES: 'Pages',
                CATEGORIES: 'Categories',
                TAGS: 'Tags',
                UNTITLED: '(Untitled)',
            },
            ROOT_URL: 'https:\/\/techsquad.rocks\/',
            CONTENT_URL: 'https:\/\/techsquad.rocks\/\/searchindex.json ',
        };
        window.INSIGHT_CONFIG = INSIGHT_CONFIG;
    })(window);
</script>
<script type="text/javascript" src="https://techsquad.rocks/js/insight.min.a343cd9a5a7698336b28ef3a7c16a3a1b1d2d5fb17dc8ed04022bbe08cc5459073a15bdafa3a8a58cdd56080784bdd69fa70b1ae8597565c799c57ed00f0e120.js" defer></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.4.2/tocbot.min.js"></script>
<script>
    tocbot.init({
        
        tocSelector: '.js-toc',
        
        contentSelector: '.js-toc-content',
        
        headingSelector: 'h1, h2, h3',
        
        hasInnerContainers: true,
    });
</script>

<script>
if (window.location.hostname !== "localhost") {
    var disqus_config = function () {
        this.page.url = 'https:\/\/techsquad.rocks\/blog\/sending_emails_with_lambda_and_ses\/';
        this.page.identifier = 'https:\/\/techsquad.rocks\/blog\/sending_emails_with_lambda_and_ses\/';
    };
    (function () {
        var d = document, s = d.createElement('script');
        s.src = '//' + 'kainlite' + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
}
</script>
<script id="dsq-count-scr" src="//kainlite.disqus.com/count.js" async></script>

<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-8919037-7', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

    <script src="//instant.page/5.1.0" type="module" integrity="sha384-by67kQnR+pyfy8yWP4kPO12fHKRLHZPfEsiSXR8u2IKcTdxD805MGUXBzVPnkLHw"></script>
  </body>
</html>
